# ============================================================
# КОНФИГУРАЦИЯ GROUPBUY MINI APP
# ============================================================
#
# Инструкция:
# 1. Скопируй этот файл: cp .env.example .env
# 2. Заполни все обязательные поля (отмечены [ОБЯЗАТЕЛЬНО])
# 3. Никогда не коммить .env в git!
#
# ============================================================

# ==================== TELEGRAM ====================
# [ОБЯЗАТЕЛЬНО] Токен бота от @BotFather
# Как получить:
#   1. Открой @BotFather в Telegram
#   2. Отправь /newbot и следуй инструкциям
#   3. Скопируй токен
TELEGRAM_BOT_TOKEN=8303010066:AAFdazXaYbZqMccdjDaRnm1towEldk9K-ro

ADMIN_BOT_TOKEN = 8549743015:AAG71eqE7ZKb_vTZ94VcK0zfZ38Q5KMPyuQ


# URL твоего Mini App (заполнить после деплоя)
# Для локальной разработки: http://localhost:8000
# После деплоя: https://твой-домен.up.railway.app
TELEGRAM_WEBAPP_URL=http://localhost:8000

# ==================== SUPABASE ====================
# [ОБЯЗАТЕЛЬНО] URL проекта
# Где найти: Supabase Dashboard → Settings → API → Project URL
SUPABASE_URL=https://cnijfqedtmmvnnogvteo.supabase.co

# [ОБЯЗАТЕЛЬНО] Публичный ключ (anon key)
# Где найти: Supabase Dashboard → Settings → API → anon public
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNuaWpmcWVkdG1tdm5ub2d2dGVvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA3NTk4MzksImV4cCI6MjA4NjMzNTgzOX0.8hrZecJQ_QApAckNqw--FWcQp2h4QEKRMiHrD9kM8JI

# [ОБЯЗАТЕЛЬНО] Сервисный ключ (service role key)
# ⚠️ СЕКРЕТНЫЙ! Никогда не передавай на фронтенд!
# Где найти: Supabase Dashboard → Settings → API → service_role
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNuaWpmcWVkdG1tdm5ub2d2dGVvIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDc1OTgzOSwiZXhwIjoyMDg2MzM1ODM5fQ.NfzHhsFSBpRyfQL7dj-wl6soL67AzwcfHfVH6siuoWU

# ==================== ЮKASSA ====================
# Заполни после регистрации в ЮKassa
# https://yookassa.ru/

# ID магазина
#YOOKASSA_SHOP_ID=123456

# Секретный ключ
#YOOKASSA_SECRET_KEY=test_xxxxxxxxxxxxx

# Секрет для webhook'ов (настроишь в личном кабинете)
#YOOKASSA_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxx

# ==================== СДЭК ====================
# Заполни после регистрации в СДЭК
# https://www.cdek.ru/ru/integration/api

# Для тестирования можно использовать тестовые данные:
# CDEK_CLIENT_ID=EMscd6r9JnFiQ3bLoyjJY6eM78JrJceI
# CDEK_CLIENT_SECRET=PjLZkKBHEiLK3YsjtNrt3TGNG0ahs3kG

CDEK_CLIENT_ID=
CDEK_CLIENT_SECRET=

# Режим работы: test (тестовый) или prod (боевой)
CDEK_MODE=test

# ==================== БЕЗОПАСНОСТЬ ====================
# [ОБЯЗАТЕЛЬНО] Секретный ключ для JWT
# Сгенерируй командой:
# python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET=cb9b312f-e7d4-4104-b5b2-34ac266c80ea

# Алгоритм подписи JWT (не меняй без необходимости)
JWT_ALGORITHM=HS256

# Время жизни токена в часах (168 = 7 дней)
JWT_EXPIRE_HOURS=168

# ==================== ПРИЛОЖЕНИЕ ====================
# Окружение: development / staging / production
APP_ENV=development

# Режим отладки (в production ставь False)
DEBUG=True

# Хост и порт
HOST=0.0.0.0
PORT=8000

# ==================== БИЗНЕС-ЛОГИКА ====================
# Дефолтный срок сбора в днях
DEFAULT_GROUP_DEADLINE_DAYS=7

# Минимум участников для сбора
DEFAULT_MIN_PARTICIPANTS=3

# Максимум участников
DEFAULT_MAX_PARTICIPANTS=100

# Комиссия платформы (%)
PLATFORM_FEE_PERCENT=5.0

# Бонус организатора (%)
ORGANIZER_BONUS_PERCENT=2.0
